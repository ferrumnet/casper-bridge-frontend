{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kabiribraheem/Documents/casper-bridge-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kabiribraheem/Documents/casper-bridge-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/kabiribraheem/Documents/casper-bridge-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kabiribraheem/Documents/casper-bridge-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import axios from\"axios\";export var crucibleApi=/*#__PURE__*/function(){function crucibleApi(){_classCallCheck(this,crucibleApi);this.jwtToken=\"\";this.address=\"\";}_createClass(crucibleApi,[{key:\"signInToServer\",value:function(){var _signInToServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userAddress){var res,unsecureSession;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend',{command:\"signInUsingAddress\",data:{userAddress:userAddress},params:[]});case 2:res=_context.sent;unsecureSession=res.data.unsecureSession;this.address=userAddress;this.jwtToken=unsecureSession;return _context.abrupt(\"return\",unsecureSession);case 7:case\"end\":return _context.stop();}}},_callee,this);}));function signInToServer(_x){return _signInToServer.apply(this,arguments);}return signInToServer;}()},{key:\"gatewayApi\",value:function gatewayApi(data){return axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend',data,{headers:{\"Access-Control-Allow-Origin\":\"*\",\"Content-type\":\"Application/json\",Authorization:\"Bearer \".concat(this.jwtToken)}});}}]);return crucibleApi;}();","map":{"version":3,"names":["axios","crucibleApi","jwtToken","address","userAddress","post","command","data","params","res","unsecureSession","headers","Authorization"],"sources":["/Users/kabiribraheem/Documents/casper-bridge-frontend/src/client/index.ts"],"sourcesContent":["import { Dispatch } from \"react\";\nimport { AnyAction } from \"redux\";\nimport axios from \"axios\";\n\nexport class crucibleApi {\n  jwtToken = \"\";\n  address = \"\"\n\n  async signInToServer(userAddress: string) {\n    const res = await axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend', {\n      command: \"signInUsingAddress\",\n      data: { userAddress },\n      params: [],\n    });\n    const { unsecureSession } = res.data;\n    this.address = userAddress;\n    this.jwtToken = unsecureSession;\n    return unsecureSession;\n  }\n\n  gatewayApi(data: any) {\n    return axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend', data, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-type\": \"Application/json\",\n        Authorization: `Bearer ${this.jwtToken}`,\n      },\n    });\n  }\n}\n\n"],"mappings":"0jBAEA,MAAOA,MAAK,KAAM,OAAO,CAEzB,UAAaC,YAAW,uFACtBC,QAAQ,CAAG,EAAE,MACbC,OAAO,CAAG,EAAE,iJAEZ,iBAAqBC,WAAmB,kKACpBJ,MAAK,CAACK,IAAI,CAAC,mFAAmF,CAAE,CAChHC,OAAO,CAAE,oBAAoB,CAC7BC,IAAI,CAAE,CAAEH,WAAW,CAAXA,WAAY,CAAC,CACrBI,MAAM,CAAE,EACV,CAAC,CAAC,QAJIC,GAAG,eAKDC,eAAe,CAAKD,GAAG,CAACF,IAAI,CAA5BG,eAAe,CACvB,IAAI,CAACP,OAAO,CAAGC,WAAW,CAC1B,IAAI,CAACF,QAAQ,CAAGQ,eAAe,CAAC,gCACzBA,eAAe,6DACvB,gIAED,oBAAWH,IAAS,CAAE,CACpB,MAAOP,MAAK,CAACK,IAAI,CAAC,mFAAmF,CAAEE,IAAI,CAAE,CAC3GI,OAAO,CAAE,CACP,6BAA6B,CAAE,GAAG,CAClC,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAY,IAAI,CAACV,QAAQ,CACxC,CACF,CAAC,CAAC,CACJ,CAAC"},"metadata":{},"sourceType":"module"}