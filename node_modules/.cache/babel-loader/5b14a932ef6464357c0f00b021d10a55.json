{"ast":null,"code":"import axios from \"axios\";\nexport class crucibleApi {\n  constructor() {\n    this.jwtToken = \"\";\n    this.address = \"\";\n  }\n  async signInToServer(userAddress) {\n    const res = await axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend', {\n      command: \"signInUsingAddress\",\n      data: {\n        userAddress\n      },\n      params: []\n    });\n    const {\n      unsecureSession\n    } = res.data;\n    this.address = userAddress;\n    this.jwtToken = unsecureSession;\n    return unsecureSession;\n  }\n  gatewayApi(data) {\n    return axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend', data, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-type\": \"Application/json\",\n        Authorization: `Bearer ${this.jwtToken}`\n      }\n    });\n  }\n}","map":{"version":3,"names":["axios","crucibleApi","jwtToken","address","signInToServer","userAddress","res","post","command","data","params","unsecureSession","gatewayApi","headers","Authorization"],"sources":["/Users/kabiribraheem/Documents/casper-bridge-frontend/src/client/index.ts"],"sourcesContent":["import { Dispatch } from \"react\";\nimport { AnyAction } from \"redux\";\nimport axios from \"axios\";\n\nexport class crucibleApi {\n  jwtToken = \"\";\n  address = \"\"\n\n  async signInToServer(userAddress: string) {\n    const res = await axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend', {\n      command: \"signInUsingAddress\",\n      data: { userAddress },\n      params: [],\n    });\n    const { unsecureSession } = res.data;\n    this.address = userAddress;\n    this.jwtToken = unsecureSession;\n    return unsecureSession;\n  }\n\n  gatewayApi(data: any) {\n    return axios.post('https://4ikenxgwge.execute-api.us-east-2.amazonaws.com/default/kb-staging-backend', data, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-type\": \"Application/json\",\n        Authorization: `Bearer ${this.jwtToken}`,\n      },\n    });\n  }\n}\n\n"],"mappings":"AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,WAAW,CAAC;EAAA;IAAA,KACvBC,QAAQ,GAAG,EAAE;IAAA,KACbC,OAAO,GAAG,EAAE;EAAA;EAEZ,MAAMC,cAAc,CAACC,WAAmB,EAAE;IACxC,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,mFAAmF,EAAE;MAChHC,OAAO,EAAE,oBAAoB;MAC7BC,IAAI,EAAE;QAAEJ;MAAY,CAAC;MACrBK,MAAM,EAAE;IACV,CAAC,CAAC;IACF,MAAM;MAAEC;IAAgB,CAAC,GAAGL,GAAG,CAACG,IAAI;IACpC,IAAI,CAACN,OAAO,GAAGE,WAAW;IAC1B,IAAI,CAACH,QAAQ,GAAGS,eAAe;IAC/B,OAAOA,eAAe;EACxB;EAEAC,UAAU,CAACH,IAAS,EAAE;IACpB,OAAOT,KAAK,CAACO,IAAI,CAAC,mFAAmF,EAAEE,IAAI,EAAE;MAC3GI,OAAO,EAAE;QACP,6BAA6B,EAAE,GAAG;QAClC,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAG,UAAS,IAAI,CAACZ,QAAS;MACzC;IACF,CAAC,CAAC;EACJ;AACF"},"metadata":{},"sourceType":"module"}