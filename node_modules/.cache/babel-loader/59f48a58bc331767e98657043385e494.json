{"ast":null,"code":"var _jsxFileName = \"/Users/kabiribraheem/Documents/staking-casper-frontend/src/components/StakeCardSubmit.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { FButton, FCard, FInputText, FItem,\n// FResponseBar,\nFTypo } from \"ferrum-design-system\";\nimport { ReactComponent as BrandIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../assets/images/brand-icon.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport toast from \"react-hot-toast\";\n\n// interface CardSubmitStakeProps {\n//   walletConnected?: boolean;\n// }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StakeCardSubmit = () => {\n  _s();\n  const {\n    stakingId\n  } = useParams();\n  const navigate = useHistory();\n  const dispatch = useDispatch();\n  const [amount, setAmount] = useState();\n  const {\n    selectedAccount,\n    isWalletConnected,\n    signedAddresses,\n    config\n  } = useSelector(state => state.algorand);\n  const isAddressSigned = () => {\n    var _signedAddresses;\n    if ((_signedAddresses = signedAddresses[`${stakingId}`]) !== null && _signedAddresses !== void 0 && _signedAddresses.length) {\n      var _signedAddresses2;\n      const result = (_signedAddresses2 = signedAddresses[`${stakingId}`]) === null || _signedAddresses2 === void 0 ? void 0 : _signedAddresses2.find(address => address === selectedAccount.address);\n      if (result) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const performStake = async () => {\n    if (isWalletConnected && selectedAccount && isAddressSigned()) {\n      try {\n        // console.log(selectedAccount?.address, Number(amount));\n        if (amount && Number(amount) > 0) {\n          navigate.push(`/${config._id}`);\n          toast.success(`${amount} tokens are staked successfully`);\n        } else {\n          toast.error(\"Amount must be greater than 0\");\n        }\n      } catch (e) {\n        console.log(\"ERROR : \", e);\n        toast.error(\"An error occured please see console for details\");\n        navigate.push(`/${config._id}`);\n      }\n    } else {\n      navigate.push(`/${config._id}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(FCard, {\n      className: \"card-submit-stake f-mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(FItem, {\n        display: \"flex\",\n        className: \"f-mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(FItem, {\n          bgColor: \"#1F2128\",\n          size: 70,\n          className: \"f-p--8 f-mr-1\",\n          display: \"flex\",\n          alignX: \"center\",\n          alignY: \"center\",\n          children: /*#__PURE__*/_jsxDEV(BrandIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FItem, {\n          className: \"f-ml-1\",\n          children: [/*#__PURE__*/_jsxDEV(FTypo, {\n            size: 24,\n            color: \"white\",\n            className: \"f-mt--4\",\n            children: \"Title Pool\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FTypo, {\n            size: 12,\n            color: \"white\",\n            children: \"POOL TYPE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FInputText, {\n        className: \"f-mt-2\",\n        label: \"AMOUNT TO STAKE\",\n        placeholder: \"0\",\n        value: amount,\n        onChange: e => {\n          e.preventDefault();\n          const re = /^-?\\d*\\.?\\d*$/;\n          if (e.target.value === \"\" || re.test(e.target.value)) {\n            setAmount(e.target.value);\n          }\n        },\n        postfix: /*#__PURE__*/_jsxDEV(FTypo, {\n          className: \"f-pr-1\",\n          color: \"#dab46e\",\n          children: \"TOKEN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FButton, {\n        title: \" Submit Stake\",\n        className: \"w-100 f-mt-2\",\n        onClick: performStake\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(StakeCardSubmit, \"b8pMV5pThvwUPQAG2nKmD+w9Cjg=\", false, function () {\n  return [useParams, useHistory, useDispatch, useSelector];\n});\n_c = StakeCardSubmit;\nexport default StakeCardSubmit;\nvar _c;\n$RefreshReg$(_c, \"StakeCardSubmit\");","map":{"version":3,"names":["React","useState","FButton","FCard","FInputText","FItem","FTypo","useDispatch","useSelector","useHistory","useParams","toast","StakeCardSubmit","stakingId","navigate","dispatch","amount","setAmount","selectedAccount","isWalletConnected","signedAddresses","config","state","algorand","isAddressSigned","length","result","find","address","performStake","Number","push","_id","success","error","e","console","log","preventDefault","re","target","value","test"],"sources":["/Users/kabiribraheem/Documents/staking-casper-frontend/src/components/StakeCardSubmit.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  FButton,\n  FCard,\n  FInputText,\n  FItem,\n  // FResponseBar,\n  FTypo,\n} from \"ferrum-design-system\";\nimport { ReactComponent as BrandIcon } from \"../assets/images/brand-icon.svg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router\";\nimport toast from \"react-hot-toast\";\n\n// interface CardSubmitStakeProps {\n//   walletConnected?: boolean;\n// }\n\nconst StakeCardSubmit = () => {\n  const { stakingId }: any = useParams();\n  const navigate = useHistory();\n  const dispatch = useDispatch();\n  const [amount, setAmount] = useState();\n  const { selectedAccount, isWalletConnected, signedAddresses, config } = useSelector((state: any) => state.algorand);\n\n \n  const isAddressSigned = () => {\n    if (signedAddresses[`${stakingId}`]?.length) {\n      const result = signedAddresses[`${stakingId}`]?.find((address: any) => address === selectedAccount.address);\n      if (result) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const performStake = async () => {\n    if (\n      isWalletConnected &&\n      selectedAccount &&\n      isAddressSigned()\n    ) {\n      try {\n        // console.log(selectedAccount?.address, Number(amount));\n        if (amount && Number(amount) > 0) {\n            navigate.push(`/${config._id}`);\n          toast.success(`${amount} tokens are staked successfully`);\n        } else {\n          toast.error(\"Amount must be greater than 0\");\n        }\n      } catch (e) {\n        console.log(\"ERROR : \", e);\n        toast.error(\"An error occured please see console for details\");\n        navigate.push(`/${config._id}`);\n      }\n    } else {\n        navigate.push(`/${config._id}`);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <FCard className={\"card-submit-stake f-mb-2\"}>\n        <FItem display={\"flex\"} className=\"f-mb-2\">\n          <FItem bgColor=\"#1F2128\" size={70} className=\"f-p--8 f-mr-1\" display={\"flex\"} alignX=\"center\" alignY={\"center\"}>\n            <BrandIcon />\n          </FItem>\n          <FItem className={\"f-ml-1\"}>\n            <FTypo size={24} color=\"white\" className={\"f-mt--4\"}>\n              Title Pool\n            </FTypo>\n            <FTypo size={12} color=\"white\">\n              POOL TYPE\n            </FTypo>\n          </FItem>\n        </FItem>\n        <FInputText\n          className={\"f-mt-2\"}\n          label={\"AMOUNT TO STAKE\"}\n          placeholder={\"0\"}\n          value={amount}\n          onChange={(e: any) => {\n            e.preventDefault();\n            const re = /^-?\\d*\\.?\\d*$/;\n            if (e.target.value === \"\" || re.test(e.target.value)) {\n              setAmount(e.target.value);\n            }\n          }}\n          postfix={\n            <FTypo className={\"f-pr-1\"} color=\"#dab46e\">\n              TOKEN\n            </FTypo>\n          }\n        />\n        {/* <FInputText\n          className={\"f-mt-2\"}\n          label={\"AVAILABLE BALANCE\"}\n          placeholder={\"0\"}\n          onChange={(e: any) => console.log(e.target.value)}\n          disabled={true}\n        />\n        <FInputText\n          className={\"f-mt-2\"}\n          label={\"REMAINING FROM CAP\"}\n          placeholder={\"0\"}\n          onChange={(e: any) => console.log(e)}\n          disabled={true}\n        /> */}\n\n        {/* <FResponseBar\n          variant=\"error\"\n          title=\"Could send a sign request. Not enough balance.\"\n          className=\"f-mb-0\"\n          show={true}\n        ></FResponseBar> */}\n        <FButton title={\" Submit Stake\"} className=\"w-100 f-mt-2\" onClick={performStake} />\n      </FCard>\n    </React.Fragment>\n  );\n};\nexport default StakeCardSubmit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}